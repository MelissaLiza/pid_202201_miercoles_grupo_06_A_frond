<app-menu></app-menu>
<div class="container contenedor__registroProveedor">
    <h2 style="margin-top: 50px;">Registrar Visitantes</h2>
    <div class="col-lg-12">
        <div class="block">
          <div class="title"><strong  style="color: white;">Registrar sede</strong></div>
          <div class="block-body">
            <form class="form-inline" (submit)="registra()">
              <div class="form-group">

                <input id="nombre_visitante" [(ngModel)]="visitante.nombre_visitante" name="nombre_visitante" type="text" placeholder="Nombre" class="mr-sm-3 form-control">
              </div>
              <div class="form-group">

                <input id="apellido_visitante" type="text" [(ngModel)]="visitante.apellido_visitante" name="apellido_visitante" placeholder="Apellido" class="mr-sm-3 form-control form-control">
              </div>
              <div class="form-group">

                <input id="telefono" type="number" [(ngModel)]="visitante.telefono_visitante" name="telefono" placeholder="telefono" class="mr-sm-3 form-control form-control">
              </div>
              <div class="form-group">

                <input id="DNI" type="number" [(ngModel)]="visitante.dni_visitante" name="DNI" placeholder="DNI" class="mr-sm-3 form-control form-control">
              </div>
              <div class="form-group">

                <input type="submit" value="Registrar Visitante" class=" btn btn-primary">
              </div>

            </form>
          </div>
        </div>
      </div>



<h2 style="margin-top: 50px;">Lista de Visitantes</h2>

<div class="table-responsive">
    <table class="table table-striped table-hover">
      <thead>
        <tr>

          <th>Nombre </th>
          <th>Apellido</th>
          <th>TELEFONO </th>
          <th>DNI </th>
          <th>estado </th>



        </tr>
      </thead>
      <tbody >
        <tr *ngFor = "let aux of visitantes"  >


          <th *ngIf="aux.estado_visitante == 1">{{ aux.nombre_visitante }}</th>
          <th *ngIf="aux.estado_visitante == 1">{{ aux.apellido_visitante }}</th>

          <th *ngIf="aux.estado_visitante == 1">{{ aux.telefono_visitante}}</th>
          <th *ngIf="aux.estado_visitante == 1">{{ aux.dni_visitante}}</th>
          <th *ngIf="aux.estado_visitante == 1">{{ aux.estado_visitante}}</th>




        </tr>

     </tbody>
    </table>


  </div>
  <h2 style="margin-top: 50px;">Registrar Visita</h2>

  <div class="col-lg-12">
    <div class="block">

      <div class="block-body">
        <form class="form-inline" (submit)="registraVisita()">

          <div class="form-group">

            <select name="account" class="form-control mr-sm-3 " [(ngModel)]="registrovisita.visitante!.id_visitante">
                <option value="-1">[Seleccione]</option>
                <option   *ngFor="let aux of lstVisi"  value="{{aux.id_visitante}}" >{{aux.nombre_visitante}} {{aux.apellido_visitante}}</option>
              </select>
          </div>


          <div class="form-group">

            <select name="account" class="form-control mr-sm-3" [(ngModel)]="registrovisita.departamento!.id_departamento">
                <option value="-1">[Seleccione]</option>
                <option   *ngFor="let aux of lstDepa"  value="{{aux.id_departamento}}" >{{aux.numero_departamento}}</option>
              </select>
          </div>

          <div class="form-group">

            <input  type="submit" value="Registrar Visita" class=" btn btn-primary">
          </div>

        </form>
      </div>
    </div>
  </div>
  <div class="table-responsive" style="margin-top: 100px; ">
    <table class="table table-striped table-hover">
      <thead>
        <tr>

          <th>Fecha de ingreso </th>
          <th>Fecha de Salida</th>
          <th>Numero DPT </th>
          <th>Nombre Visitante </th>
        </tr>
      </thead>
      <tbody >
        <tr *ngFor = "let aux of visitas"  >
          <th >{{ aux.fecha_ingreso }}</th>
          <th >{{ aux.fecha_salida }}</th>
          <th >{{ aux.departamento?.numero_departamento }}</th>
          <th >{{ aux.visitante?.nombre_visitante }}  {{ aux.visitante?.apellido_visitante }}</th>
          <td>
            <button type="button" style="width: 90px" class="btn btn-primary btn-sm"  data-toggle="modal" data-target="#idAtender"  >Salir</button>
          </td>
        </tr>
    </tbody>
    </table>


  </div>

</div>



